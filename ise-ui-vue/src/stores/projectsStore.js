import { defineStore } from "pinia";

export const useProjectsStore = defineStore('projects', {
    state: () => ({
        projects:[{
            "id": "e592e1c0-f77b-457d-86e8-19f85ab83722",
            "name": "Stocks Study",
            "reference": "MAC001",
            "userId": "09b90eb4-7cd4-4a2c-b587-9629305c7002",
            "lastUpdate": "0001-01-01T00:00:00",
            "startDate": "2022-02-22T00:00:00",
            "fieldingPeriod": 50,
            "status": "Draft",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Product Survey",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Created",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Study on Mobile Networks",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Active",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Study on Drinks",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Paused",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Test Survey Run",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Complete",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Bank Statistics",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Coin Survey",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Test Product Survey",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Study on Maps",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Study on Drinks",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Test Run",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Deployment Study",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Modified Stats Response",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Active",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "British gas Survey",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Severn Trent Survey",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Live",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "Study on Education",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Closed",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }, {
            "id": "f6dce440-e50a-4f56-9577-b6028e0603e5",
            "name": "System Test",
            "reference": "MAC001",
            "userId": "c04c6e43-1878-4484-acf9-3397a19aa693",
            "lastUpdate": "2022-06-13T23:31:08.8553758",
            "startDate": "2011-01-11T00:00:00",
            "fieldingPeriod": 50,
            "status": "Created",
            "linkToSurvey": "https://sim.cintworks.net/[ID]",
            "user": null,
            "projectTargetAudiences": [],
            "cintResponseId": 0,
            "cintSelfLink": "NA",
            "cintCurrentCostLink": "NA",
            "cintTestingLink": "NA"
        }],
        currentProjects: [],
        searchByName: '',
        searchByStartDate: '',
        currentStatus: 'All'
    }),
    getters: {
        getDraftProjects: (state) => {
            return state.projects.filter(project => project.status === 0);
        }
    },
    actions: {
        setDefaultProjectList() {
            console.log("came into this function");
            this.searchByName = ''
            this.searchByStartDate = ''
            this.currentProjects = this.projects
            this.currentStatus = 'All'
        },
        getProjectsBySearchNameAndStartDate (status) {
            console.log("came in.. " + status);
            if(status !== undefined || status !== '')
                this.currentStatus = status

            var curr = [];
            if(this.currentStatus !== 'All') {
                curr = this.projects.filter(project => project.status === this.currentStatus)
            }
            else {
                curr = this.projects
            }
            if(this.searchByName !== '')
                curr = curr.filter(project => (project.name.toLowerCase()).includes(this.searchByName.toLowerCase()))
            if(this.searchByStartDate !== '')
                curr = curr.filter(project => (project.startDate.includes(this.searchByStartDate)))
            
            this.currentProjects = curr;
        }
    }
})